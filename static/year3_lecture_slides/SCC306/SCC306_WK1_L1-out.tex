\documentclass[12pt]{article}

\usepackage[T1]{fontenc}
\usepackage{graphicx}
\graphicspath{ {./images/} } 
\usepackage{float}
\begin{document}

(Q)
Describe: ...
\clearpage

SCC.306 Internet Applications Engineering\\
Introduction\\
Matthew Broadbent and Matthew Bradbury\\
m.broadbent@lancaster.ac.uk, m.s.bradbury@lancaster.ac.uk\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page1-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page1-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Who are we?
\clearpage
\section{Who are we?}
\\
Introductions\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page2-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page2-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Course Aims
\clearpage
\section{Course Aims}
\\
\begin{itemize}
  \item To provide you with an appreciation of the issues facing developers of large scale, 
\end{itemize}
high-performance and multi-device web sites\\
\begin{itemize}
  \item From a technical and architectural level
  \item But also in terms of accessibility, responsiveness, security, etc.
\begin{itemize}
  \item To raise awareness of technologies and the approach to engineering software at scale
  \item To highlight relevant technologies and skills that are useful when preparing to work in 
\end{itemize}
\end{itemize}
Industry\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page3-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page3-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: How is the course taught?
\clearpage
\section{How is the course taught?}
\\
\begin{itemize}
  \item One 2hr Lecture session:
\begin{itemize}
  \item Online and live (via Teams)
  \item Video material + interactive elements
\end{itemize}
  \item One 1hr practical session (Weeks 2 to 9):
\begin{itemize}
  \item In-person (or online via Teams, if arranged previously)
  \item In Science \& Technology building (aka Old Engineering)
  \item Experimental focus (e.g. measuring, gaining results)
  \item Online quiz (weeks 5 \& 9)
  \item Support \& feedback for practical coursework elements
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page4-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page4-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: How is the course taught?
\clearpage
\section{How is the course taught?}
\\
\end{itemize}
  \item Moodle will be the authoritative source of information for the course
  \item All material and content will be posted there
  \item This includes:
  \item Links to join the live sessions: lectures/workshops and labs (if applicable)
  \item Recordings of all Lecture material
  \item Lab workbooks and submission points
  \item Quizzes
  \item Additional reading
  \item Announcements
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page5-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page5-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Provisional Lecture Schedule
\clearpage
\section{Provisional Lecture Schedule}
\\
Week Topic Who\\
1 Web Architecture \& Performance Me!\\
2 Architecting Online Services Johnathan Ishmael – BBC\\
3 Values in Computing Lucy Hunt – Lancaster University\\
4 Responsive Web Design Josh Tumath – BBC\\
5 Accessibility for Web and Apps Emma Pratt Richens\\
6 Web Security Alex Collins – BT\\
7 Distributed Identity and Smart Contracts Matthew Howard – Chia\\
8 Production-quality Software Testing James Van Hinsbergh and Fraser Hart - Tesco\\
9 Web Analytics Booking.com\\
10 Embedded Computing \& the Internet Matthew Bradbury\\
* Dates \& topics subject to change\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page6-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page6-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: How this Course is Assessed
\clearpage
\section{How this Course is Assessed}
\\
\end{itemize}
  \item 1) Exam 60\%
  \item 2) Coursework 40\%
\begin{itemize}
  \item Details on the next slide…
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page7-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page7-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Coursework Components
\clearpage
\section{Coursework Components}
\\
Component Title Deadline Weight \\
(\%)\\
Submission \\
Method\\
Feedback \\
Method\\
Mark Returned\\
1 Practical Element 1 Friday, Week 4 40 Moodle Verbal By 3/12/21\\
2 Quiz A Week 5 10 Moodle Moodle\\
3 Practical Element 2 Friday, Week 8 40 Moodle Verbal By 3/1/22\\
4 Quiz B Week 9 10 Moodle Moodle\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page8-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page8-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Lab Schedule
\clearpage
\section{Lab Schedule}
\\
Week Topic Notes\\
1 N/A\\
2 Practical 1 (Support)\\
3 Practical 1 (Support)\\
4 Practical 1 (Support) Submit Friday\\
5 Quiz A\\
6 Practical 2 (Support)\\
7 Practical 2 (Support)\\
8 Practical 2 (Support) Submit Friday\\
9 Quiz B\\
10 1:1 Coursework Feedback\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page9-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page9-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: What is Plagiarism?
\clearpage
\section{What is Plagiarism?}
\\
\begin{itemize}
  \item Passing off someone else’s work as your own, including:
\end{itemize}
  \item Submitting (e.g.) answers or a report that someone else provided
  \item Paying for someone else to do it for you
  \item Working on a piece of non-group work together as a group, and submitting it as individual 
\end{itemize}
work\\
\begin{itemize}
  \item Sharing of answers/data that you then possibly adapt
\begin{itemize}
  \item If you give someone else your work, you can also be called in for plagiarism
  \item Coursework is submitted online and checked for plagiarism automatically
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page10-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page10-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: What We Expect from You
\clearpage
\section{What We Expect from You}
\\
\end{itemize}
  \item Integrity (no plagiarism, no faking results) and effort (active learning):
\end{itemize}
  \item Attend lectures
  \item Go to our labs (they’re to support you!)
  \item Use our/the world’s resources effectively
  \item Take notes
  \item Read around the subject/try things for yourself
  \item Ask us questions in lectures and labs
  \item Take notes (again, because the slides are not enough when you try to revise, really…!)
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page11-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page11-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: What You Can Expect from Us
\clearpage
\section{What You Can Expect from Us}
\\
\begin{itemize}
  \item We’ll do our best
\begin{itemize}
  \item To make all our lecture notes available on moodle
  \item To personally check the labs are running smoothly and the TAs are offering support
  \item To arrange extra support if you’ve already tried the normal routes (web, forum, TAs)
  \item To offer prompt feedback on coursework
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page12-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page12-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Online Expectations
\clearpage
\section{Online Expectations}
\\
\end{itemize}
  \item Online tools will be used to facilitate some aspects of learning e.g. Moodle, Teams, etc.
  \item However, this is a reminder that the use of these is governed by existing policies that 
\end{itemize}
you are all currently bound by and have agreed to\\
\begin{itemize}
  \item Academic malpractice and plagiarism still applies online
  \item Direct sharing of code, sharing solutions and/or partial solutions with other students, 
\end{itemize}
either privately or in an open chat, is not acceptable\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page13-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page13-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Online Expectations
\clearpage
\section{Online Expectations}
\\
\begin{itemize}
  \item Don’t forget, these are your fellow students and staff, not some anonymous person on 
\end{itemize}
the Internet\\
\begin{itemize}
  \item If you’re not sure if you should post or share something, please ask first
  \item If you see content or a post that you don’t like, in the first instance, message or email 
\end{itemize}
the course tutor to alert them to it\\
\begin{itemize}
  \item We want these tools to be used; they will give you the best online experience!
  \item However, we are asking that you use them sensibly and with respect
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page14-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page14-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: How do I get help?
\clearpage
\section{How do I get help?}
\\
\end{itemize}
  \item Please use the labs (online or in-person) to ask for help
  \item Please ask the TA’s in the labs: they are experts when it comes to the coursework!
  \item Please use the course forum on Moodle (outside of the Labs)
  \item I will also be posting common Q\&As in the General channel of Teams so that everyone 
can benefit from them\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page15-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page15-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Part I: Web Architecture
\clearpage
\section{Part I: Web Architecture}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page16-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page16-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: FT.com Engine Room Blog
\clearpage
\section{FT.com Engine Room Blog}
\\
http://engineroom.ft.com/2016/04/04/a-faster-ft-com/\\
\begin{itemize}
  \item “It’s clear from our test that the speed of our website affects both of these revenue 
\end{itemize}
streams, over the short term, to the tune of hundreds of thousands of pounds, and in \\
the long-term millions.”\\
- Omitted as data did not reach 95\% statistical significance\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page17-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page17-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page17-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Web Servers
\clearpage
\section{Web Servers}
\\
But now they’re everywhere\\
\begin{itemize}
  \item The primary function of a web server is to deliver web pages to networked clients
  \item A web server is just a piece of software that:
\begin{itemize}
  \item Takes a request in HTTP format for some named resource over the network
  \item Serves that resource back to the client as payload to an HTTP response (HTML/ MIME 
\end{itemize}
\end{itemize}
formats)\\
\begin{itemize}
  \item What’s changed since this was originally envisioned?
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page18-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page18-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Web and HTTP
\clearpage
\section{Web and HTTP}
\\
\end{itemize}
  \item First, a quick review…
\begin{itemize}
  \item web page consists of objects
  \item object can be HTML file, JPEG image, video file, audio file,…
  \item web page consists of base HTML-file which includes several referenced objects
\begin{itemize}
  \item each object is addressable by a URL, e.g.,
\end{itemize}
\end{itemize}
www.clevername.com/someDept/pic.gif\\
host name server specific path\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page19-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page19-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: But what about DNS?
\clearpage
\section{But what about DNS?}
\\
\begin{itemize}
  \item Before we can request the page we want, we need the IP (Internet Protocol) address 
\end{itemize}
of the server\\
\begin{itemize}
  \item bbc.co.uk has address 212.58.246.78
  \item lancaster.ac.uk has address 148.88.2.80
  \item Your operating system and network routers use this address to decide how to route the 
\end{itemize}
data packets making up your request, hop by hop throughout the network\\
\begin{itemize}
  \item If we don’t know the IP, we need a way to find it out.  The domain name system (DNS) 
\end{itemize}
provides a distributed database we can query\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page20-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page20-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: DNS is a network service
\clearpage
\section{DNS is a network service}
\\
\begin{itemize}
  \item DNS’s role, vs. the web server
\end{itemize}
Known \\
IP?\\
HTTP \\
op\\
Ask \\
DNS\\
DNS \\
server\\
No\\
Yes\\
Web \\
server\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page21-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page21-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: HTTP request/ response
\clearpage
\section{HTTP request/ response}
\\
\begin{itemize}
  \item For each resource host, resolve 
\end{itemize}
IP using DNS\\
\begin{itemize}
  \item Make request using HTTP: 
\end{itemize}
hypertext transfer protocol\\
\begin{itemize}
  \item client/server model
\begin{itemize}
  \item client: browser that requests, 
\end{itemize}
\end{itemize}
receives, (using HTTP protocol) \\
and “displays”Web objects \\
\begin{itemize}
  \item server: Web server sends (using 
\end{itemize}
HTTP protocol) objects in \\
response to requests\\
PC running\\
Chrome browser\\
server \\
running\\
Apache Web\\
server\\
iPhone running\\
Safari browser\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page22-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page22-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page22-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page22-image-4.png}
\end{figure}
\clearpage
(Q)
Describe: HTTP \& TCP
\clearpage
\section{HTTP \& TCP}
\\
\begin{itemize}
  \item Uses Transmission Control Protocol (TCP):
\begin{itemize}
  \item Client initiates TCP connection (creates socket) to server, port 80
  \item Server accepts TCP connection from client
  \item HTTP messages (application-layer protocol messages) exchanged 
\end{itemize}
\end{itemize}
between browser (HTTP client) and Web server (HTTP server)\\
\begin{itemize}
  \item TCP connection closed
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page23-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page23-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: HTTP in Action
\clearpage
\section{HTTP in Action}
\\
suppose user enters URL:\\
1a. HTTP client initiates TCP \\
connection to HTTP server \\
(process) at \\
www.someSchool.edu on port \\
80\\
2. HTTP client sends HTTP request \\
message (containing URL) \\
across TCP connection. \\
Message indicates that client \\
wants object \\
someDepartment/home.index\\
1b. HTTP server at host \\
www.someSchool.edu waiting \\
for TCP connection at port 80.  \\
“accepts” connection, notifying \\
client\\
3. HTTP server receives request \\
message, forms response \\
message containing requested \\
object, and sends message back \\
out\\
time\\
(contains text, \\
references to 10 \\
jpeg images)\\
www.someSchool.edu/someDepartment/home.index\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page24-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page24-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: HTTP in Action (cont.)
\clearpage
\section{HTTP in Action (cont.)}
\\
6. Steps 1-5 repeated for each of \\
10 jpeg objects\\
4. HTTP server closes TCP \\
connection. \\
time\\
5. HTTP client receives response \\
message containing html file, \\
displays html.  Parsing html file, \\
finds 10 referenced jpeg objects\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page25-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page25-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: HTTP response time
\clearpage
\section{HTTP response time}
\\
\begin{itemize}
  \item RTT (definition): time for a 
\end{itemize}
\end{itemize}
packet to travel from client to \\
server and back\\
\begin{itemize}
  \item HTTP response time:
\begin{itemize}
  \item one RTT to initiate TCP 
\end{itemize}
\end{itemize}
connection\\
\begin{itemize}
  \item one RTT for HTTP request and 
\end{itemize}
first few bytes of HTTP response \\
to return\\
\begin{itemize}
  \item file transmission time
  \item non-persistent HTTP response 
\end{itemize}
time =   \\
\begin{itemize}
  \item 2RTT+ file transmission  time
\end{itemize}
time to \\
transmit \\
file\\
initiate TCP\\
connection\\
RTT\\
request\\
file\\
RTT\\
file\\
received\\
time time\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page26-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page26-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page26-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Defining Latency
\clearpage
\section{Defining Latency}
\\
\begin{itemize}
  \item A measure of the time delay experienced by a system
  \item In a computer network: the time it takes for a packet of data to get from one 
\end{itemize}
designated point to another\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page27-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page27-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Defining Latency
\clearpage
\section{Defining Latency}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page28-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page28-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page28-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Defining Throughput
\clearpage
\section{Defining Throughput}
\\
\begin{itemize}
  \item Bandwidth: the amount of information that can be transmitted 
\end{itemize}
over a network in a given time\\
\begin{itemize}
  \item Synonymous with: network throughput, the amount of data moved successfully from 
\end{itemize}
one place to another in a given time period\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page29-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page29-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Defining Throughput
\clearpage
\section{Defining Throughput}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page30-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page30-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page30-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Part II: Front-end Web Performance and Measurement
\clearpage
\section{Part II: Front-end Web Performance and Measurement}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page31-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page31-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: The Document Object Model (DOM)
\clearpage
\section{The Document Object Model (DOM)}
\\
\begin{itemize}
  \item Way to manipulate the structure \& style of HTML
  \item Represents internals of the page as the browser sees it
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page32-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page32-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page32-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Where does the time go?
\clearpage
\section{Where does the time go?}
\\
\end{itemize}
  \item Latency (in milliseconds, not 
minutes ☺), i.e. the time \\
taken to complete each stage \\
before the content can be \\
displayed.\\
\begin{itemize}
  \item (Much) more detail: 
\end{itemize}
http://bit.ly/1uHwuPD\\
Lookup name of server\\
(DNS)\\
Make connection to server,\\
send request\\
(TCP)\\
Processing time (Server) Transfer time\\
(end-to-end,\\
network)\\
Processing time\\
(browser)\\
Rendering time\\
(browser)\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page33-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page33-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: This means…
\clearpage
\section{This means…}
\\
\begin{itemize}
  \item Each time we fetch a piece of content we incur time penalties (latency)
\end{itemize}
1. Looking up the domain name (DNS)\\
2. Sending and receiving HTTP messages (due to the latency / delay and bandwidth \& \\
congestion of the network and the size of the content)\\
3. The performance and load on the server\\
4. The complexity of the pages we render and performance of the client\\
This is all dynamic, and changes over time.\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page34-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page34-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: HTTP Archive 
\clearpage
\section{HTTP Archive }
\\
Top 100 Stats\\
\begin{itemize}
  \item http://httparchive.org/interesting.php
  \item http://httparchive.org/trends.php
\end{itemize}
Jan 2014 – Jan 2018\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page35-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page35-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page35-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Understanding website performance
\clearpage
\section{Understanding website performance}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page36-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page36-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Waterfalls 101 – note: green and blue lines
\clearpage
\section{Waterfalls 101 – note: green and blue lines}
\\
http://bit.ly/9WRauQ\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page37-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page37-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page37-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Each web page contains 50-100 objects†
\clearpage
\section{Each web page contains 50-100 objects†}
\\
\begin{itemize}
  \item Each making a round-trip between the browser and the server (request out, 
\end{itemize}
processing time, response back)\\
\begin{itemize}
  \item †http://bit.ly/9WRauQ
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page38-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page38-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page38-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Definitions
\clearpage
\section{Definitions}
\\
\end{itemize}
  \item Time to first byte is the time from the request to the server until the first byte of the 
response is received by the browser\\
\begin{itemize}
  \item  \textgreater  100ms or so, and you have a slow server
\begin{itemize}
  \item Start render is when content begins to display in the user’s browser (doesn’t mean 
\end{itemize}
\end{itemize}
useful content!)\\
\begin{itemize}
  \item Should be consistent across pages and less than 2 seconds
  \item Note: browsers continue to evolve when they draw (e.g. Chrome)
\begin{itemize}
  \item DOMContentLoaded is when the initial HTML document has been completely loaded 
\end{itemize}
\end{itemize}
and parsed, sufficient to build the DOM (without necessarily waiting for some objects, \\
such as images of known size, to finish loading).\\
\begin{itemize}
  \item DOMContentLoaded = Start Render?
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page39-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page39-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Definitions
\clearpage
\section{Definitions}
\\
\end{itemize}
  \item Load time or document complete time or onLoad time
\begin{itemize}
  \item All of the document’s resources (i.e. images and CSS files, etc) have been fully loaded
  \item Usually a site is interactive before this
\begin{itemize}
  \item May be when some key javascripts activate
  \item Helps compare coarsely with other sites
  \item Content might be after the fold* (i.e. outside the viewport) but still loading
\end{itemize}
\end{itemize}
* Jakob Nielsen estimates that, “…web users spend 80\% of their time looking at information above the \\
page fold. Although users do scroll, they allocate only 20\% of their attention below the fold.”\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page40-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page40-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Waterfalls a Common Visualisation Technique
\clearpage
\section{Waterfalls a Common Visualisation Technique}
\\
Used in this course: Chrome DevTools\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page41-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page41-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page41-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Drilling down on performance problems
\clearpage
\section{Drilling down on performance problems}
\\
So, where *exactly* is the problem?\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page42-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page42-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Example page
\clearpage
\section{Example page}
\\
(with webpagetest.org)\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page43-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page43-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page43-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: So, a good place to start is to focus on render time
\clearpage
\section{So, a good place to start is to focus on render time}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page44-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page44-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Before we render
\clearpage
\section{Before we render}
\\
\begin{itemize}
  \item The browser must fetch any linked content that is required to render the page
\begin{itemize}
  \item i.e. might effect the Document Object Model (DOM)
  \item This includes style sheets (CSS)
  \item And external javascript source files (JS)
  \item External files depend on the full network round trip and can block rendering
  \item By default, CSS is render blocking unless marked otherwise
\end{itemize}
  \item Although this is changing: browsers evolving to animate changes
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page45-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page45-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: HTML and CSS are “render blocking” resources
\clearpage
\section{HTML and CSS are “render blocking” resources}
\\
\end{itemize}
  \item The HTML is obvious, since without the DOM we would not have anything to render
\begin{itemize}
  \item But the CSS?
\begin{itemize}
  \item http://bit.ly/1ydoYhV
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page46-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page46-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page46-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: How can we improve performance?
\clearpage
\section{How can we improve performance?}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page47-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page47-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Tip 1 – Order is important
\clearpage
\section{Tip 1 – Order is important}
\\
\end{itemize}
  \item Some browsers block rendering until the stylesheet is loaded to avoid redraws
\end{itemize}
  \item CSS goes in the head so the DOM can start render more quickly
  \item Javascript can often go in the body as you don’t need the scripts until the page is available
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page48-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page48-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page48-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Tip 2 – do less
\clearpage
\section{Tip 2 – do less}
\\
\begin{itemize}
  \item A simpler page (simpler DOM) will be faster
\begin{itemize}
  \item Reduces number of page elements to load and process
\end{itemize}
  \item Also, hard to make TCP go faster, but can combine files (CSS, JS)
  \item Remove duplicates (e.g. redundant JS)!
\end{itemize}
Multiple files\\
e.g. CSS\\
Combined \\
file\\
= 1 CSS \\
link\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-4.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-5.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-6.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-7.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-8.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-9.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-10.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-11.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-12.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-13.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page49-image-14.png}
\end{figure}
\clearpage
(Q)
Describe: Improving TCP
\clearpage
\section{Improving TCP}
\\
\begin{itemize}
  \item “It’s not easy to speed up TCP connection, but you can control how many times the 
\end{itemize}
TCP connection takes place”, http://bit.ly/9WRauQ\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page50-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page50-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Note large collection of CSS, fonts and scripts 
\clearpage
\section{Note large collection of CSS, fonts and scripts }
\\
blocking rendering\\
\begin{itemize}
  \item Until the final stylesheet is loaded…  You want less rows!
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page51-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page51-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page51-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: CSS Sprites
\clearpage
\section{CSS Sprites}
\\
\end{itemize}
  \item We can combine multiple image files into a larger image map (sprite) that is then 
‘dissected’ in CSS – you load one larger image, rather than many small ones, \\
amortising overhead (see http://bit.ly/XqV6dx)\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page52-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page52-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page52-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Amazon example
\clearpage
\section{Amazon example}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page53-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page53-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page53-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Tip 3 – make things smaller
\clearpage
\section{Tip 3 – make things smaller}
\\
\begin{itemize}
  \item Optimise
\begin{itemize}
  \item Image sizes/files, make progressive
  \item Enable compression (reduces response by 70\%, in 90\% of browsers!)
  \item ‘Minify’ javascript and CSS (e.g. using Google closure compiler/ YUI compressor (+use 
\end{itemize}
\end{itemize}
‘minified’ versions of JS libs)\\
Compress!\\
CSS\\
JS\\
HTML\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page54-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page54-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page54-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page54-image-4.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page54-image-5.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page54-image-6.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page54-image-7.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page54-image-8.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page54-image-9.png}
\end{figure}
\clearpage
(Q)
Describe: Tip 4 – support caching
\clearpage
\section{Tip 4 – support caching}
\\
First view\\
(6.242s)\\
Repeat view\\
(2.864s)\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page55-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page55-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page55-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page55-image-4.png}
\end{figure}
\clearpage
(Q)
Describe: Tip 5 – loading after ‘the fold’
\clearpage
\section{Tip 5 – loading after ‘the fold’}
\\
\begin{itemize}
  \item Delay loading of components not visible to the user until they’re needed, e.g. images 
\end{itemize}
using YUI ImageLoader.\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page56-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page56-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page56-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Pointers for Getting Started
\clearpage
\section{Pointers for Getting Started}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page57-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page57-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Intuition and Statistics
\clearpage
\section{Intuition and Statistics}
\\
\begin{itemize}
  \item Be warned:
\begin{itemize}
  \item Intuition about statistics can be very bad…
  \item Don’t base your measurements on just one run (sampling error) or from one location 
\end{itemize}
\end{itemize}
(typically local!).\\
\begin{itemize}
  \item Draw a histogram of responses
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page58-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page58-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page58-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Intuition and Statistics
\clearpage
\section{Intuition and Statistics}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page59-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page59-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page59-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Other Tools
\clearpage
\section{Other Tools}
\\
\end{itemize}
  \item http://heatmap.webperf.tools - red means slow
  \item http://yellowlab.tools – analyse performance bottlenecks
  \item http://lab.speedcurve.com – visualise performance trends
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page60-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page60-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page60-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Part III: Back-end Web Performance and Scaling
\clearpage
\section{Part III: Back-end Web Performance and Scaling}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page61-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page61-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: What is scale?
\clearpage
\section{What is scale?}
\\
\begin{itemize}
  \item The ability handle an increasing number of (possibly concurrent) requests
\begin{itemize}
  \item While maintaining performance targets
\end{itemize}
  \item Low latency (short time to first byte)
  \item High throughput (short content download)
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page62-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page62-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Why is scale important?
\clearpage
\section{Why is scale important?}
\\
\end{itemize}
  \item We’ve already seen the impact that page load times can have on performance
  \item But what influence does the infrastructure have on this?
  \item Consider the amount of people that now have access to the Internet
\begin{itemize}
  \item It is inherently global!
\begin{itemize}
  \item How do we build around this popularity?
\end{itemize}
  \item Handling load well is key
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page63-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page63-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Load changes over time!
\clearpage
\section{Load changes over time!}
\\
Part of the reason that we take multiple measures (recall: sampling bias)\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page64-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page64-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: www.lancaster.ac.uk
\clearpage
\section{www.lancaster.ac.uk}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page65-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page65-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page65-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page65-image-4.png}
\end{figure}
\clearpage
(Q)
Describe: Metrics that matter
\clearpage
\section{Metrics that matter}
\\
\begin{itemize}
  \item Number of requests served per second (depends on type of request and work/ 
\end{itemize}
\end{itemize}
request!)\\
\begin{itemize}
  \item Latency (response time) for each new connection or request (in ms)
  \item Throughput in bytes per second (depends on file size, cached or not cached content, 
\end{itemize}
available network bandwidth…)\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page66-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page66-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Response time is inversely proportional to requests per second
\clearpage
\section{Response time is inversely proportional to requests per second}
\\
We sometimes have to provision our system to trade these off.  If we spend too much time beyond \\
steady state, then we need to do something about it!\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page67-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page67-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: And not all web servers are the same
\clearpage
\section{And not all web servers are the same}
\\
Web Performance, ‘The fastest web server’, 16.11.2011. https://www.webperformance.com/load-testing-\\
tools/blog/2011/11/what-is-the-fastest-webserver/\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page68-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page68-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page68-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page68-image-4.png}
\end{figure}
\clearpage
(Q)
Describe: Requests per second is page requests / time
\clearpage
\section{Requests per second is page requests / time}
\\
This can be gleaned from the logs.\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page69-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page69-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Bytes per second is the sum of the size of each request / time
\clearpage
\section{Bytes per second is the sum of the size of each request / time}
\\
Again, this can be gleaned from the logs.\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page70-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page70-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Optimise before scaling
\clearpage
\section{Optimise before scaling}
\\
Reducing server load (by far the easiest/cheapest option!)\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page71-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page71-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Vertical Scaling == bigger/ upgrades
\clearpage
\section{Vertical Scaling == bigger/ upgrades}
\\
More processors, more memory, gets exotic \& expensive\\
Buying a bigger box is quick.\\
Redesigning software is not.\\
Spend months \\
federating your \\
database, or buy \\
loads of RAM? ☺\\
Has the nice property that nothing drastically changes\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page72-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page72-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page72-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Horizontal Scaling == more hardware
\clearpage
\section{Horizontal Scaling == more hardware}
\\
But typically simpler and lower cost (the hardware).  This will complicate \\
all but the simplest of scenarios!\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page73-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page73-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page73-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page73-image-4.png}
\end{figure}
\clearpage
(Q)
Describe: Load balancers
\clearpage
\section{Load balancers}
\\
\begin{itemize}
  \item Distribute the load evenly across two or more servers
\begin{itemize}
  \item High performance/cost hardware: Load Balancer
\end{itemize}
  \item Rewrites headers at Layer 4/adjusts DNS
  \item TCP connection between client and server (end-to-end)
\begin{itemize}
  \item Software (perlbal, nginx) ‘reverse proxy’
\end{itemize}
  \item Echos HTTP requests to particular servers (layer 7)
  \item TCP connection between client and balancer
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page74-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page74-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Replication
\clearpage
\section{Replication}
\\
All servers store the same set of content. Read-only things, ‘static \\
resources’, scale well.\\
http://www.liquidweb.com/\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page75-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page75-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page75-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page75-image-4.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page75-image-5.png}
\end{figure}
\clearpage
(Q)
Describe: What replicates well?
\clearpage
\section{What replicates well?}
\\
\end{itemize}
  \item Things that don’t change very often
\begin{itemize}
  \item Media assets (images, movies, sounds)
\begin{itemize}
  \item But also self-contained tasks:
\end{itemize}
  \item Image conversion
  \item Audio transcoding
  \item Video transcoding
  \item Web crawling
  \item Compute
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page76-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page76-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Session tracking and state
\clearpage
\section{Session tracking and state}
\\
\begin{itemize}
  \item Fly in the ointment of scaling: personalisation
\end{itemize}
  \item User sessions, e.g. state of interaction, shopping basket etc.
  \item Sessions are state that is built up between the client and the server
  \item Load balancers have ‘affinity’ to certain servers, but this defeats the object!
\begin{itemize}
  \item Also: User generated content
\end{itemize}
  \item OK, some of it may go viral
  \item But most of it is highly specialised and interesting only to a small group of people
  \item Is it worth caching?
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page77-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page77-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: The response to the 2nd CSS request is ‘blocked’
\clearpage
\section{The response to the 2nd CSS request is ‘blocked’}
\\
Requests are serviced in order… so the small requests have to wait\\
HTMLCSSIMGCSS\\
HTML CSS IMG\\
HTTP 1.1 Pipelines requests to the \\
same server in order\\
HTTP GET\\
HTTP Response\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-4.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-5.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-6.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-7.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-8.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-9.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-10.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-11.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-12.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-13.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-14.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page78-image-15.png}
\end{figure}
\clearpage
(Q)
Describe: Distribution
\clearpage
\section{Distribution}
\\
Split requests across groups of servers. Serve the essentials for \\
rendering the page quickly.  Let the large media items fetch more slowly \\
from other servers.\\
http://www.liquidweb.com/\\
L7 reverse proxy\\
For ‘small resources’ For ‘big resources’\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page79-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page79-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page79-image-3.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page79-image-4.png}
\end{figure}
\clearpage
(Q)
Describe: Domain Sharding
\clearpage
\section{Domain Sharding}
\\
Different server name = different connection! YouTube uses i1.ytimg.com, \\
i2.ytimg.com, i3.ytimg.com, and i4.ytimg.com. Live Search uses ts1.images.live.com, \\
ts2.images.live.com, ts3.images.live.com, and ts4.images.live.com…\\
http://www.stevesouders.com/\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page80-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page80-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page80-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: HTTP/2
\clearpage
\section{HTTP/2}
\\
\begin{itemize}
  \item Multiplexed streams
  \item HTTP header compression
  \item Servers can push content
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page81-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page81-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page81-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Where is the bottleneck?
\clearpage
\section{Where is the bottleneck?}
\\
How can we avoid it?\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page82-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page82-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Caching Exploits Locality
\clearpage
\section{Caching Exploits Locality}
\\
\end{itemize}
  \item Move content (web pages, videos, images, etc.) closer to the user
  \item Less hops == less latency (less transport and in network cost)
  \item Hopefully less narrow pipes between you/them
  \item Or less congestion (e.g. the transatlantic link)
  \item Caching can be done:
\end{itemize}
  \item In-browser
  \item In-network
  \item At the server
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page83-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page83-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: (At the server) Caching
\clearpage
\section{(At the server) Caching}
\\
Optimising read performance of infrequently updated or static \\
content helps a lot!\\
http://bit.ly/1czxPO6\\
L7 reverse proxy Large in memory \\
cache (boost reads)\\
Array of app servers \\
(handle weightier \\
requests, e.g. writes)\\
READ requests take this path\\
WRITE requests take this path\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page84-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page84-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page84-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Content Delivery Networks (CDNs)
\clearpage
\section{Content Delivery Networks (CDNs)}
\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page85-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page85-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page85-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Infrastructure as a Service (IaaS)
\clearpage
\section{Infrastructure as a Service (IaaS)}
\\
\begin{itemize}
  \item It’s hardware, only in software
\begin{itemize}
  \item Machines are ‘virtual machine instances’
  \item Can be provisioned for various roles (frontend, backend, memcached, compute intensive); 
\end{itemize}
\end{itemize}
anything really!\\
\begin{itemize}
  \item Can be re-provisioned (vertical scaling)
  \item Can be replicated (horizontal scaling)
  \item Can be created and destroyed (almost) instantly
  \item Can be connected however you want
\begin{itemize}
  \item Inherently flexible and scalable!
  \item These are the services that allow start-ups to scale massively, without requiring their 
\end{itemize}
\end{itemize}
own datacentre\\
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page86-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page86-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Platform as a Service (PaaS)
\clearpage
\section{Platform as a Service (PaaS)}
\\
\begin{itemize}
  \item Deploy services instead of servers (e.g. 
\end{itemize}
Google App/Engine)\\
\begin{itemize}
  \item Standalone and replicated data stores 
\end{itemize}
(SQL and NoSQL)\\
\begin{itemize}
  \item Arbitrary web applications (e.g. in Python, 
\end{itemize}
Java or Go)\\
\begin{itemize}
  \item Store data (with backup)
  \item Compute
  \item Content Delivery Network!
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page87-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page87-image-2.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page87-image-3.png}
\end{figure}
\clearpage
(Q)
Describe: Advantages of PaaS
\clearpage
\section{Advantages of PaaS}
\\
\begin{itemize}
  \item Resilience to hardware and network failures (99.999\% reliability)
  \item A run-time proportion of CPU, memory, storage, network IO 
\end{itemize}
\end{itemize}
(specifiable configurability)\\
\begin{itemize}
  \item On-demand scalability (‘elasticity’)
  \item Lower cost – and pay per use…
  \item Global availability
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page88-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page88-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Disadvantages of PaaS
\clearpage
\section{Disadvantages of PaaS}
\\
\end{itemize}
  \item Latency is no longer guaranteed; my machines could be anywhere around the globe!
  \item Interoperability issues (moving cloud providers?)
  \item Hidden (on) costs (hidden supplier charges or even suppliers!) – transnational borders 
(e.g. US)\\
\begin{itemize}
  \item Data recovery (can they?)
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page89-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page89-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Lecture Summary
\clearpage
\section{Lecture Summary}
\\
\end{itemize}
  \item Performance bottlenecks (at the client)
\begin{itemize}
  \item Latency and where it comes from
  \item How lots of files, resources and when they’re loaded delays rendering
  \item Tips for avoiding blocking and load delays, inc. reducing connections, exploiting caching 
\end{itemize}
and compression\\
\begin{itemize}
  \item Performance bottlenecks (at the server)
\begin{itemize}
  \item Where do scaling related bottlenecks come from
  \item Metrics for detecting scale problems
  \item What types of scaling up can we do
  \item Strategies for optimising web architectures
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page90-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page90-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: Further reading
\clearpage
\section{Further reading}
\\
\end{itemize}
  \item http://developer.yahoo.com/performance/rules.html
\begin{itemize}
  \item 35 best practices for optimising the performance of your website
\end{itemize}
  \item http://yslow.org/user-guide/
\begin{itemize}
  \item 23 performance rules (also open-source site analyser, c.f. Google’s PageSpeed)
\end{itemize}
  \item http://bit.ly/1smkVN8
\begin{itemize}
  \item Google’s ‘critical rendering path’ tutorial
\end{itemize}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page91-image-1.png}
\end{figure}
\begin{figure}[H]
\includegraphics[width=0.5\linewidth]{page91-image-2.png}
\end{figure}
\clearpage
(Q)
Describe: ...
\clearpage
\clearpage
(Q)
Describe: ...
\clearpage
\\
\end{document}